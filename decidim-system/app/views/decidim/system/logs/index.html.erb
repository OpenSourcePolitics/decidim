<div class="logs_search">
  <%= form_tag(logs_path, method: :get, id: "logs_search__form") do %>
    <div class="field <%= search_input_helper %>">
      <%= hidden_field_tag :lines, lines %>
      <%= hidden_field_tag :auto_refresh, auto_refresh? %>
      <%= text_field_tag :search_input, search_input, placeholder: t(".placeholder", lines: lines), class: "form-control" %>
    </div>
    <div class="actions">
      <%= submit_tag t(".search"), class: "button", data: { disable_with: t(".searching") } %>
      <button id="logs_search__reset" class="button <%= search_reset_helper %>">
        <%= t(".reset") %>
      </button>
    </div>
  <% end %>
</div>


<div class=" logs">
  <pre><%= @logs %></pre>
</div>

<div class="logs_button">
  <%= link_to t(".auto_refresh"), logs_path(auto_refresh: !auto_refresh?, lines: lines, search_input: search_input), class: "button #{auto_refresh_helper}" %>
  <%= link_to t(".view_log", line: 50), logs_path(lines: 50, auto_refresh: auto_refresh?, search_input: search_input), class: "button #{line_helper(50)}" %>
  <%= link_to t(".view_log", line: 100), logs_path(lines: 100, auto_refresh: auto_refresh?, search_input: search_input), class: "button #{line_helper(100)}" %>
  <%= link_to t(".view_log", line: 200), logs_path(lines: 200, auto_refresh: auto_refresh?, search_input: search_input), class: "button #{line_helper(200)}" %>
  <%= link_to t(".view_log", line: 300), logs_path(lines: 300, auto_refresh: auto_refresh?, search_input: search_input), class: "button #{line_helper(300)}" %>
  <%= link_to t(".view_log", line: 1000), logs_path(lines: 1000, auto_refresh: auto_refresh?, search_input: search_input), class: "button #{line_helper(1000)}" %>
  <%= link_to t(".download_log"), download_logs_path, class: "button download_log" %>
</div>


<%= javascript_include_tag "decidim/system/logs" %>
